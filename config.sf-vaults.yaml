# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
# Minimal config for testing SF Vaults only
name: thj-indexer-sf-vaults
contracts:
  # Set & Forgetti Vaults - ERC4626 vaults
  - name: SFVaultERC4626
    handler: src/SFVaultHandlers.ts
    events:
      - event: Deposit(address indexed sender, address indexed owner, uint256 assets, uint256 shares)
        field_selection:
          transaction_fields:
            - hash
      - event: Withdraw(address indexed sender, address indexed receiver, address indexed owner, uint256 assets, uint256 shares)
        field_selection:
          transaction_fields:
            - hash
      - event: StrategyUpdated(address indexed oldStrategy, address indexed newStrategy)
        field_selection:
          transaction_fields:
            - hash
  # Set & Forgetti MultiRewards - Staking and reward distribution
  - name: SFMultiRewards
    handler: src/SFVaultHandlers.ts
    events:
      - event: Staked(address indexed user, uint256 amount)
        field_selection:
          transaction_fields:
            - hash
      - event: Withdrawn(address indexed user, uint256 amount)
        field_selection:
          transaction_fields:
            - hash
      - event: RewardPaid(address indexed user, address indexed rewardsToken, uint256 reward)
        field_selection:
          transaction_fields:
            - hash

networks:
  # Berachain Mainnet only
  - id: 80094
    start_block: 13869572  # SF vaults deployment block
    contracts:
      # Set & Forgetti Vaults (ERC4626)
      - name: SFVaultERC4626
        address:
          - 0x4b8e4C84901C8404F4cfe438A33ee9Ef72F345d1 # HLKD1B Vault
          - 0x962D17044fB34abbF523F6bff93D05c0214d7BB3 # HLKD690M Vault
          - 0xa51Dd612F0A03cBc81652078f631fb5F7081ff0F # HLKD420M Vault
          - 0xb7411DdE748Fb6D13cE04B9aac5E1fEa8AD264dD # HLKD330M Vault
          - 0x6552e503dfC5103BB31a3fE96Ac3c3a092607f36 # HLKD100M Vault
      # Set & Forgetti MultiRewards (Staking)
      - name: SFMultiRewards
        address:
          - 0xBfdA8746f8ABeE58a58F87C1D2BB2d9eEE6e3554 # HLKD1B MultiRewards
          - 0x01c1C9c333Ea81e422E421Db63030e882851EB3d # HLKD690M MultiRewards
          - 0x4EEdEe17CDFbd9910C421ecc9d3401C70C0BF624 # HLKD420M MultiRewards
          - 0xec204cb71D69f1b4d334C960D16a68364B604857 # HLKD330M MultiRewards
          - 0x00192Ce353151563B3bd8664327d882c7ac45CB8 # HLKD100M MultiRewards

unordered_multichain_mode: false
preload_handlers: true
