# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
# Minimal config for testing SF Vaults only
name: thj-indexer-sf-vaults
contracts:
  # Set & Forgetti Vaults - ERC4626 vaults
  - name: SFVaultERC4626
    handler: src/SFVaultHandlers.ts
    events:
      - event: Deposit(address indexed sender, address indexed owner, uint256 assets, uint256 shares)
        field_selection:
          transaction_fields:
            - hash
      - event: Withdraw(address indexed sender, address indexed receiver, address indexed owner, uint256 assets, uint256 shares)
        field_selection:
          transaction_fields:
            - hash
      - event: StrategyUpdated(address indexed oldStrategy, address indexed newStrategy)
        field_selection:
          transaction_fields:
            - hash
  # Set & Forgetti MultiRewards - Staking and reward distribution
  - name: SFMultiRewards
    handler: src/SFVaultHandlers.ts
    events:
      - event: Staked(address indexed user, uint256 amount)
        field_selection:
          transaction_fields:
            - hash
      - event: Withdrawn(address indexed user, uint256 amount)
        field_selection:
          transaction_fields:
            - hash
      - event: RewardPaid(address indexed user, address indexed rewardsToken, uint256 reward)
        field_selection:
          transaction_fields:
            - hash

networks:
  # Berachain Mainnet only
  - id: 80094
    start_block: 13869572  # SF vaults deployment block
    contracts:
      # Set & Forgetti Vaults (ERC4626)
      - name: SFVaultERC4626
        address:
          - 0x3bEC4140EDA07911208d4fC06b2f5ADB7B5237FB # HLKD1B Vault
          - 0x335d150495F6C8483773ABC0e4Fa5780dd270E78 # HLKD690M Vault
          - 0x2e2bDfdD4b786703B374aEEAa44195698a699dD1 # HLKD420M Vault
          - 0x91F321A8791fB899c6b860B9F54940C68cB45AeD # HLKD330M Vault
          - 0xEe1087ec5D6A0a673C046b9ACb15C93B7aDB95CA # HLKD100M Vault
      # Set & Forgetti MultiRewards (Staking)
      - name: SFMultiRewards
        address:
          - 0x34b3668e2AD47ccFe3C53e24a0606B911D1f6a8f # HLKD1B MultiRewards (new)
          - 0xd1cbf8f7f310947A7993abbD7fd6113794e353da # HLKD690M MultiRewards (new)
          - 0x827b7EA9fDb4322DbC6f9bF72C04871Be859f20C # HLKD420M MultiRewards (new)
          - 0xACd0177BfcBC3760b03c87808b5423945f6bFAEC # HLKD330M MultiRewards (new)
          - 0xB5b312fbF7Eb145485Ece55B862db94d626eFa0f # HLKD100M MultiRewards (new)

unordered_multichain_mode: false
preload_handlers: true
